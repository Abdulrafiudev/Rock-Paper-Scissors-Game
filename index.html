<!DOCTYPE html>
<html>
  <head>
    <title> Game </title>
    <link rel="icon" href="https://static-00.iconduck.com/assets.00/amazon-icon-2048x1722-myhuicq8.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="game.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    

  </head>
  <body>
    <div class="title">
      Rock Paper Scissors
    </div>
    <div class="margin_of_button">
       <div class="first_layout">
        <button onclick="

        play_game(`Rock`);

        " class="button_icon"> 
        <img src="pictures/Rock-emoji.png" class="image_icon">
         </button>


        <button onclick="

          play_game(`Paper`);

            " class="button_icon"  > <img src="pictures/Paper-emoji.png" class="image_icon"> </button>

        <button onclick="   

            play_game(`Scissors`);

            " class="button_icon"> <img src="pictures/Scissors-emoji.png" class="image_icon"> </button>
       </div>
       
        <p class="js_result"></p>
        <p class="js_moves"> </p>

        <p class="js_score"></p>

        <button onclick="
          score.wins = 0;
          score.loss = 0;
          score.ties = 0;
          localStorage.removeItem(`score`);
          update_sccore_element();


        
        " class="reset_button"> Reset score </button>
    </div>
    <script>

      let score = JSON.parse(localStorage.getItem(`score`))|| {
          wins: 0,
          loss: 0,
          ties: 0,


        }
      update_sccore_element();
      
      
      
     /* if (score === null){
        score = {
          wins: 0,
          loss: 0,
          ties: 0,


        }

        
      }*/
       

        
      

      function pick_computer_move(){ 

        let computer_move = '';
      
        let random_number = Math.random();
      
        if(random_number >= 0 && random_number < 1/3){
          computer_move= `Rock`;
          
        }
        else if (random_number >= 1/3 && random_number < 2/3){
          
          computer_move = `Paper`;
          
        }
        else if (random_number >=2/3 && random_number < 1){
          computer_move = `Scissors`; 
          
        }
        console.log(computer_move); 
        return computer_move;

      }


      function play_game(players_move){
        let computer_move = pick_computer_move();

        let result = '';

        if (players_move === `Scissors`){

          if ( computer_move === 'Rock'){
          result = 'You lost.';

        }
          else if ( computer_move === `Paper`){
            result= `You won.`;
          }
          else if ( computer_move === `Scissors`){
        result = `Tie.`;
      }
     
        
         


      }
        else if ( players_move === `Paper`){

          
        if ( computer_move === 'Rock'){
          result = 'You won.';

        }
        else if ( computer_move === `Paper`){
          result= `Tie.`;
        }
        else if ( computer_move === `Scissors`){
           result = `You lost.`;
        }
      
          

      }
    
        else if (players_move === `Rock`){

          
          if ( computer_move === 'Rock'){
            result = 'Tie.';

          }
          else if ( computer_move === `Paper`){
            result= `You lost.`;
          }
          else if ( computer_move === `Scissors`){
          result = `You won.`;
        }
        

      } 
      if ( result === `You won.`){
        score.wins +=1 ;
      }
      else if (result=== `You lost.`){
        score.loss +=1;
      }
      else if (result=== `Tie.`){
        score.ties += 1;
      }

      localStorage.setItem(`score`, JSON.stringify(score));
      update_sccore_element();
      document.querySelector(`.js_result`).innerHTML = result;
      document.querySelector(`.js_moves`).innerHTML = `You<img src="pictures/${players_move}-emoji.png" class="moves_icon"> <img src="pictures/${computer_move}-emoji.png" class="moves_icon">computer`;

     // alert(`You picked ${players_move}. Computer picked ${computer_move}. ${result}
//Wins: ${score.wins}, Losses: ${score.loss}, Ties: ${score.ties}`); 

      


    }
    function update_sccore_element(){

      document.querySelector(`.js_score`).innerHTML = `Wins: ${score.wins}, Losses: ${score.loss}, Ties: ${score.ties}`;

    }
   
    
     

    </script>











  </body>
</html>